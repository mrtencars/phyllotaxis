<html>
<head>
    <script src="./js/Cindy.js" type="text/javascript"></script>
    <script src="./js/CindyGL.js" type="text/javascript"></script>
    <title>Bluetenstand bei SonnenblumenT</title>
</head>


<script id="csinit" type="text/x-cindyscript">
arrow(a,b):=(

    nn=(b-a);
    nn=nn/|nn|*sqrt(|b|)*.3;
    pp=nn*complex((0,1));

fillpoly((gauss(b+0.6*pp-nn ),gauss(b),gauss(b-0.6*pp-nn ));,color->(0.7,0,0),alpha->1);

);


arrow2(a,b):=(

    nn=(b-a);
    nn=nn/|nn|*.4;
    pp=nn*complex((0,1));

fillpoly((gauss(b+0.6*pp-nn ),gauss(b),gauss(b-0.6*pp-nn ));,color->(0.7,0,0),alpha->1);

);
</script>
<script id="csdraw" type="text/x-cindyscript">
n=exp(3.93*|B,C|/|A,B|);
n=round(n*40)/40+0.0001;
woff=10°*(|F,G|/|F,E|-0.5);
if(|woff-0|<0.1°,woff=0°;G.xy=(E+F)/2);
win=137.508°+woff;

layer(13);

clrscr();
alpha(1);
drawtext((10.4,-7),"n="+format(n,1),size->16);
drawtext((13,-3),format(180*win/pi*(n-floor(n)),1)+"°",size->16);
drawtext((18.4,-7),"w="+format(180*win/pi,4)+"°",size->16);
drawtext((10,-8),"Samen",align->"center",size->16);
drawtext((18,-8),"Winkel",align->"center",size->16);



repeat(n,j,i=j-2;
  r=sqrt(i)*1;


  w=win*i;
  draw(r*(sin(w),cos(w)),alpha->1,size->4);
);

plot((sin(x*win),cos(x*win))*sqrt(x),steps->1000,stop->50,alpha->0.5,color->(0,0,1),size->1);


drawcircle((14,0),2,color->(0,0,0.7));

if(n>1,
  n=n-1;
 draw((0,0),(sin(n*win),cos(n*win))*sqrt(n),alpha->1,color->(0,0,0));
 draw((14,0),(14,0)+(sin(n*win),cos(n*win))*2,alpha->1,color->(0,0,0),size->2);

 draw((0,0),(sin(floor(n)*win),cos(floor(n)*win))*sqrt(floor(n)),alpha->1,color->(0,0,0));

 draw((14,0),(14,0)+(sin(floor(n)*win),cos(floor(n)*win))*2,alpha->1,color->(0,0,0),size->2);

connect(apply((0..10)*(n-floor(n))/10,x,i=x+floor(n);(sin(win*i),cos(win*i))*sqrt(i)),color->(0.7,0,0),alpha->1,size->2);

connect(apply((0..10)*(n-floor(n))/10,x,i=x+floor(n);(14,0)+(sin(win*i),cos(win*i))*2),color->(0.7,0,0),alpha->1,size->2);



// plot((sin(x*win),cos(x*win))*sqrt(x),
  //      steps->50,start->floor(n+1)+0.0001,stop->n+1,size->2,color->(0,0,0),alpha->1);

// plot((14,0)+(sin(x*win),cos(x*win))*2,
//        steps->50,start->floor(n+1)+0.0001,stop->n+1,size->2,color->(0.8,0,0),alpha->1);


 arrow(complex((sin((n-.1)*win),cos((n-.1)*win))*sqrt((n-.1))),
       complex((sin(n*win),cos(n*win))*sqrt(n)));
 arrow2(complex((7+sin((n-.1)*win),cos((n-.1)*win))*2),
       complex((7+sin(n*win),cos(n*win))*2))

);
</script>
<script type="text/javascript">
    var cdy = CindyJS({
        scripts: "cs*",
        defaultAppearance: {
            dimDependent: 0.7,
            fontFamily: "sans-serif",
            lineSize: 1,
            pointSize: 5.0,
            textsize: 12.0
        },
        angleUnit: "°",
        geometry: [
            {name: "A", type: "Free", pos: [4.0, 2.8, 0.4], color: [0.0, 0.0, 0.0], pinned: true, size: 2.0},
            {name: "B", type: "Free", pos: [4.0, -2.8, 0.4], color: [0.0, 0.0, 0.0], pinned: true, size: 2.0},
            {name: "a", type: "Segment", color: [0.0, 0.0, 1.0], args: ["A", "B"]},
            {name: "C", type: "PointOnSegment", pos: [4.0, -2.8, 0.4], color: [1.0, 1.0, 1.0], args: ["a"], size: 6.0},
            {name: "E", type: "Free", pos: [4.0, 1.5555555555555556, 0.2222222222222222], color: [0.0, 0.0, 0.0], pinned: true, size: 2.0},
            {name: "F", type: "Free", pos: [4.0, -1.5555555555555556, 0.2222222222222222], color: [0.0, 0.0, 0.0], pinned: true, size: 2.0},
            {name: "b", type: "Segment", color: [0.0, 0.0, 1.0], args: ["E", "F"]},
            {name: "G", type: "PointOnSegment", pos: [4.0, -0.0, 0.22222222222222224], color: [1.0, 1.0, 1.0], args: ["b"], size: 6.0}
        ],
        ports: [{
            id: "CSCanvas",
            width: 798,
            height: 464,
            transform: [{visibleRect: [-8.94, 8.54, 22.98, -10.02]}],
            grid: 1.0,
            background: "rgb(255,255,255)"
        }],
        csconsole: false,
        cinderella: {build: 1901, version: [2, 9, 1901]}
    });
</script>


<div id="CSCanvas"></div>

</html>
